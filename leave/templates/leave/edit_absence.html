{% extends './base.html'%}
{% block page_title %}
Edit Absence
{% endblock page_title%}

{% block content%}
<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card card-body">
                    <form method="POST" action="{% url 'edit_absence' absence.id %}">
                        {% csrf_token %}

                        <div class="form-group">
                            <label for="sel1">Employee:</label>
                            <select class="form-control" id="sel1" name="employee">
                                {% for employee in employees %}
                                {% if employee.name == employee %}
                                <option selected value="{{employee.id }}">{{employee.name }}</option>
                                {% else %}
                                <option value="{{employee.id }}">{{ employee.name }}</option>
                                {% endif %}
                                {% endfor %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" class="form-control" aria-describedby="emailHelp"
                                   placeholder="Leave Type" name="leave_type" value={{absence.leave}}>
                        </div>
                        <div class="form-group">
                            <label>From:</label>
                            <input type="text" class="form-control" aria-describedby="emailHelp"
                                   placeholder="From Date" name="from_date"
                                   value={{absence.date_from}}>
                        </div>

                        <div class="form-group">
                            <label for="">To:</label>
                            <input type="text" class="form-control" placeholder="Enter To Date"
                                   name="grade" value="{{absence.date_to}}" required>
                        </div>

                        <div class="form-group">
                            <label for="sel1">Marital Status:</label>
                            <select class="form-control" id="sel1" name="marital_status"
                                    value="{{employee.marital_status}}">
                                {% if employee.marital_status == "Single"%}
                                <option selected value="Single">Single</option>
                                <option>Married</option>
                                {% else%}
                                <option>Single</option>
                                <option selected value="Married">Married</option>
                                {% endif%}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Start Date</label>
                            <input class="form-control" type="date" value="{{employee.start_date.isoformat}}" name="start_date" required>
                        </div>
                        <div class="form-group">
                            <label>Nationality</label>
                            <input type="text" class="form-control" placeholder="Enter Nationality" name="nationality"
                                   value="{{employee.nationality}}">
                        </div>
                        <div class="form-group">
                            <label>NSSF Number</label>
                            <input type="number" class="form-control" placeholder="Enter NSSF Number" name="nssf_no"
                                   value="{{employee.nssf_no}}">
                        </div>
                        <div class="form-group">
                            <label>URA TIN</label>
                            <input type="number" class="form-control" placeholder="Enter URA TIN" name="ura_tin"
                                   value="{{employee.ura_tin}}">
                        </div>
                        <div class="form-group">
                            <label>National ID</label>
                            <input type="number" class="form-control" placeholder="Enter National ID Number"
                                   name="national_id" value="{{employee.national_id}}">
                        </div>
                        <div class="form-group">
                            <label>Telephone Number</label>
                            <input type="number" class="form-control" placeholder="Enter Telephone Number"
                                   name="telephone" value="{{ employee.telephone_no }}">
                        </div>
                        <div class="form-group">
                            <label>Residence Address</label>
                            <input type="text" class="form-control" placeholder="Enter Residence Address"
                                   name="residence_address" value="{{employee.residence_address}}">
                        </div>
                        <div class="form-group">
                            <label>Date of Birth</label>
                            <input class="form-control" type="date" value="{{employee.dob.isoformat}}" name="dob"
                                   required>
                        </div>
                </div>
                <!--Footer-->
                <div class="modal-footer">
                    <a href="{%url 'employee_page' employee.id%}"><button type="button" class="btn btn-outline-danger" >Back</button></a>
                    <button class="btn btn-danger" type="submit">Save</button>
                </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock content %}