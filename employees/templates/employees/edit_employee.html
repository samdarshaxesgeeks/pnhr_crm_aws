{% extends './base.html'%}
{% block page_title %}
Edit {{employee.first_name}}'s Bio data
{% endblock page_title%}

{% block content%}
<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card card-body">
                    <form method="POST" action="{% url 'employee:edit_employee' employee.id %}">
                        {%csrf_token%}
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" class="form-control" aria-describedby="emailHelp"
                                   placeholder="Enter the title" name="title" value={{employee.title}}>
                        </div>
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" class="form-control" aria-describedby="emailHelp"
                                   placeholder="Enter first name" name="first_name" value={{employee.first_name}}>
                        </div>
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" class="form-control" aria-describedby="emailHelp"
                                   placeholder="Enter last name" name="last_name" name="last_name"
                                   value={{employee.last_name}}>
                        </div>

                        <div class="form-group">
                            <label>Status:</label>
                            <select class="form-control" name="status"
                                    value="{{employee.status}}">
                                <option value="Active">Active</option>
                                <option value="Inactive">Inactive</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="">Grade</label>
                            <input type="text" class="form-control" placeholder="Enter employee grade" name="grade"
                                   value="{{employee.grade}}" required>
                        </div>
                        <div class="form-group">
                            <label for="sel1">Renumeration Currency:</label>
                            <select class="form-control" name="renumeration_currency">
                                <option value="{{employee.currency.id}}">{{employee.currency}}</option>
                                {%for currency in currencies%}
                                <option value={{currency.id}}>{{currency.code}}</option>
                                {%endfor%}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Basic Salary</label>
                            <input type="text" class="form-control" placeholder="Enter employee basic salary"
                                   name="basic_salary" value="{{employee.basic_salary}}" required>
                        </div>

                        <div class="form-group">
                            <label>Meal Allowance</label>
                            <input type="text" class="form-control" placeholder="Enter lunch allowance"
                                   name="lunch_allowance" value="{{employee.lunch_allowance}}" required>
                        </div>

                        <div class="form-group">
                            <label>Bonus</label>
                            <input type="text" class="form-control" placeholder="Enter bonus"
                                   name="bonus" value="{{employee.bonus}}" required>
                        </div>

                        <div class="form-group">
                            <label>Local Service Tax Allowance</label>
                            <input type="text" class="form-control" placeholder="Enter Local Service Tax Allowance"
                                   name="local_service_tax" value="{{employee.local_service_tax}}" required>
                        </div>

                        <div class="form-group">
                            <label for="sel1">Gender:</label>
                            <select class="form-control" name="gender">
                                {% if employee.gender == "Female" %}
                                <option>Male</option>
                                <option selected>Female</option>
                                {% else%}
                                <option selected>Male</option>
                                <option>Female</option>
                                {% endif%}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sel1">Marital Status:</label>
                            <select class="form-control" id="sel1" name="marital_status"
                                    value="{{employee.marital_status}}">
                                {% if employee.marital_status == "Single"%}
                                <option selected value="Single">Single</option>
                                <option>Married</option>
                                {% else%}
                                <option>Single</option>
                                <option selected value="Married">Married</option>
                                {% endif%}
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Start Date</label>
                            <input class="form-control" type="date" value="{{employee.start_date.isoformat}}"
                                   name="start_date" required>
                        </div>

                        <div class="form-group">
                            <label>Nationality</label>
                            <input type="text" class="form-control" placeholder="Enter Nationality" name="nationality"
                                   value="{{employee.nationality}}">
                        </div>

                        <div class="form-group">
                            <label>NSSF Number</label>
                            <input type="number" class="form-control" placeholder="Enter NSSF Number" name="nssf_no"
                                   value="{{employee.nssf_no}}">
                        </div>
                        <div class="form-group">
                            <label>URA TIN</label>
                            <input type="number" class="form-control" placeholder="Enter URA TIN" name="ura_tin"
                                   value="{{employee.ura_tin}}">
                        </div>
                        <div class="form-group">
                            <label>National ID</label>
                            <input type="text" class="form-control" placeholder="Enter National ID Number"
                                   name="national_id" value="{{employee.national_id}}">
                        </div>
                        <div class="form-group">
                            <label>Telephone Number</label>
                            <input type="number" class="form-control" placeholder="Enter Telephone Number"
                                   name="telephone" value="{{ employee.telephone_no }}">
                        </div>
                        <div class="form-group">
                            <label>Residence Address</label>
                            <input type="text" class="form-control" placeholder="Enter Residence Address"
                                   name="residence_address" value="{{employee.residence_address}}">
                        </div>
                        <div class="form-group">
                            <label>Date of Birth</label>
                            <input class="form-control" type="date" value="{{employee.dob.isoformat}}" name="dob"
                                   required>
                        </div>
                </div>
                <!--Footer-->
                <div class="modal-footer">
                    <a href="{%url 'employee:employee_page' employee.id%}">
                        <button type="button"
                                class="btn btn-outline-danger">Back
                        </button>
                    </a>
                    <button class="btn btn-danger" type="submit">Save</button>
                </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock content %}